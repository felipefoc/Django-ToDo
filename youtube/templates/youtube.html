{% extends 'base.html' %}
{% block style %}
.card {
    display: inline-table;
}
#material-icon {
    position: absolute;
    left: 90%;
    top: 3%;
    border-radius: 20px;
    background: white;
    border-color: black;
    color: black;
}

{% endblock %}
{% block content %}


<form method="POST" action="">
{% csrf_token %}

    {{form.url.label}}
    {{form.url}}
    {{form.url.errors}}
    
    <button type="submit" class="btn btn-info btn-danger">Pesquisar video</button>
    <p class="cmuted">Por conta do servidor ser <i>free</i>, videos com mais de 10 minutos respondem com <b>Timeout</b>.
</form>
<br>
<h2> Hist√≥rico de videos ({{history|length}})</h2>

{% for video in posts %}
<div class="card" style="width: 20rem;">
  <img class="card-img-top" src="{{video.thumbnail}}" rel="nofollow" alt="Card image cap">
  <a href="{% url 'download_api' video.id %}" id="material-icon" data-toggle="tooltip" title="Baixar novamente" <i class="material-icons">get_app</i></a>
  <div class="card-body">
    <p class="card-text">{{video.title}}</p><br>
    <p class="card-text"><a href="{{video.url}}">{{video.url}}</a></p>
  </div>
</div>

{% endfor %}

{% include 'pagination.html' with page=posts %}

<script type="javascript">
$(function () {
  $('[data-toggle="tooltip"]').tooltip()
})
</script>

{% endblock %}